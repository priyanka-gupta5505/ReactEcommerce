{"version":3,"sources":["CartItem.js","Navbar.js","Total.js","Cart.js","App.js","index.js"],"names":["styles","images","height","width","borderRadius","title","fontSize","fontWeight","details","color","CartItem","props","values","price","qty","url","className","src","alt","style","onClick","handlePlusClick","class","handleMinusClick","handleDelete","Navbar","count","Total","total","Cart","product","products","state","index","indexOf","firebase","collection","doc","id","update","initialPrice","catch","err","console","log","delete","loading","onSnapshot","snapshot","docs","map","data","setState","this","item","Fragment","Component","App","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce37b607.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./index.css\";\nfunction CartItem(props) {\n  const { title, price, qty, url } = props.values;\n  return (\n    <div className=\"cart-item\">\n      <div className=\"left-block\">\n        <img src={url} alt=\"img\" style={styles.images} />\n      </div>\n      <div className=\"right-block\">\n        <div style={styles.title}>{title}</div>\n        <div style={styles.details}>Rs {price}</div>\n        <div style={styles.details}>Qty:{qty}</div>\n        <div className=\"cart-item-actions\">\n          <button onClick={() => props.handlePlusClick(props.values)}>\n            <i class=\"fas fa-plus-circle\"></i>\n          </button>\n          <button onClick={() => props.handleMinusClick(props.values)}>\n            <i class=\"fas fa-minus-circle\"></i>\n          </button>\n          <button onClick={() => props.handleDelete(props.values)}>\n            <i class=\"fas fa-trash\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\nconst styles = {\n  images: {\n    height: 110,\n    width: 110,\n    borderRadius: 4,\n  },\n  title: {\n    fontSize: 25,\n    fontWeight: \"bold\",\n  },\n  details: {\n    fontSize: 15,\n    color: \"grey\",\n  },\n};\n\nexport default CartItem;\n","import React from \"react\";\n\nfunction Navbar(props) {\n  return (\n    <div className=\"navbar\">\n      <div className=\"label\">Cart</div>\n      <div className=\"cart-image-count\">\n        <i className=\"fas fa-shopping-cart\"></i>\n        <span className=\"count\">{props.count}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import React from \"react\";\n\nfunction Total(props) {\n  return <div className=\"navbar footer\">Total : {props.total}</div>;\n}\nexport default Total;\n","import React, { Component } from \"react\";\nimport CartItem from \"./CartItem\";\nimport Navbar from \"./Navbar\";\nimport Total from \"./Total\";\n\nimport * as firebase from \"firebase\";\n\nexport class Cart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      products: [],\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    firebase\n      .firestore()\n      .collection(\"products\")\n      .onSnapshot((snapshot) => {\n        const products = snapshot.docs.map((doc) => {\n          const data = doc.data();\n          data[\"id\"] = doc.id;\n          return data;\n        });\n        this.setState({\n          products: products,\n          loading: false,\n        });\n      });\n  }\n\n  handlePlusClick = (product) => {\n    const { products } = this.state;\n    const index = products.indexOf(product);\n\n    const docRef = firebase\n      .firestore()\n      .collection(\"products\")\n      .doc(products[index].id);\n\n    docRef\n      .update({\n        qty: products[index].qty + 1,\n        price: products[index].price + products[index].initialPrice,\n      })\n      .catch((err) => console.log(\"error-> \", err));\n  };\n  handleMinusClick = (product) => {\n    const { products } = this.state;\n    const index = products.indexOf(product);\n    if (products[index].qty <= 0) {\n      return;\n    }\n    const docRef = firebase\n      .firestore()\n      .collection(\"products\")\n      .doc(products[index].id);\n\n    docRef\n      .update({\n        qty: products[index].qty - 1,\n        price: products[index].price - products[index].initialPrice,\n      })\n      .catch((err) => console.log(\"error-> \", err));\n  };\n  handleDelete = (product) => {\n    const { products } = this.state;\n    const index = products.indexOf(product);\n    const docRef = firebase\n      .firestore()\n      .collection(\"products\")\n      .doc(products[index].id);\n\n    docRef.delete().catch((err) => {\n      console.log(err);\n    });\n  };\n  render() {\n    const { products, loading } = this.state;\n    var count = 0;\n    var total = 0;\n    products.map((item) => {\n      count += item.qty;\n      total += item.price;\n    });\n    return (\n      <React.Fragment>\n        <Navbar count={count} />\n        {loading && <h1>Loading data...</h1>}\n        <div className=\"cart\">\n          {products.map((item, index) => (\n            <CartItem\n              values={item}\n              key={index}\n              handleMinusClick={this.handleMinusClick}\n              handlePlusClick={this.handlePlusClick}\n              handleDelete={this.handleDelete}\n            />\n          ))}\n        </div>\n        <Total total={total} />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Cart;\n","import Cart from \"./Cart\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Cart />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport * as firebase from \"firebase\";\nimport \"firebase/firestore\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAjCqyM2eOa7Z3oVpjaz1ZSBFHvLVbXNTo\",\n  authDomain: \"cart-237f3.firebaseapp.com\",\n  databaseURL: \"https://cart-237f3-default-rtdb.firebaseio.com\",\n  projectId: \"cart-237f3\",\n  storageBucket: \"cart-237f3.appspot.com\",\n  messagingSenderId: \"89488250631\",\n  appId: \"1:89488250631:web:bb81b7b4c2432dca2417a2\",\n  measurementId: \"G-316C21S3E6\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}